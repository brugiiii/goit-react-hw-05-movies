"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[622],{9355:function(e,t,n){n.d(t,{V:function(){return d}});var r=n(5861),i=n(5671),a=n(9466),s=n(4687),c=n.n(s),o=n(1243),u="83584156b00a2d23d72a1dbc78073946",l="https://api.themoviedb.org/3/",d=function(){function e(){(0,i.Z)(this,e),this._query="",this._movieId=null}return(0,a.Z)(e,[{key:"fetch",value:function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="trending"===e.t0?3:"byQuery"===e.t0?7:"details"===e.t0?11:"credits"===e.t0?15:"reviews"===e.t0?19:23;break;case 3:return e.next=5,(0,o.Z)("".concat(l,"trending/movie/day?api_key=").concat(u,"&language=en-US"));case 5:case 9:case 21:return n=e.sent,e.abrupt("break",24);case 7:return e.next=9,(0,o.Z)("".concat(l,"search/movie?api_key=").concat(u,"&query=").concat(this._query,"&include_adult=false&language=en-US&page=1"));case 11:return e.next=13,(0,o.Z)("".concat(l,"movie/").concat(this._movieId,"?api_key=").concat(u,"&language=en-US"));case 13:return n=e.sent,e.abrupt("return",n.data);case 15:return e.next=17,(0,o.Z)("".concat(l,"movie/").concat(this._movieId,"/credits?api_key=").concat(u,"&language=en-US"));case 17:return n=e.sent,e.abrupt("return",n.data.cast);case 19:return e.next=21,(0,o.Z)("".concat(l,"movie/").concat(this._movieId,"/reviews?api_key=").concat(u,"&language=en-US&page=1"));case 23:return e.abrupt("return");case 24:return e.abrupt("return",n.data.results);case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"query",get:function(){return this._query},set:function(e){this._query=e}},{key:"movieId",get:function(){return this._movieId},set:function(e){this._movieId=e}}]),e}()},3622:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r,i,a,s,c,o=n(9439),u=n(2791),l=n(7689),d=n(8966),h=n(1087),v=n(184),p=function(){return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("hr",{}),(0,v.jsx)("p",{children:"Additional information"}),(0,v.jsxs)("ul",{children:[(0,v.jsx)("li",{children:(0,v.jsx)(h.rU,{to:"cast",children:"Cast"})}),(0,v.jsx)("li",{children:(0,v.jsx)(h.rU,{to:"reviews",children:"Reviews"})})]}),(0,v.jsx)("hr",{})]})},x=n(168),f=n(7647),g=f.Z.div(r||(r=(0,x.Z)(["\n  width: 700px;\n"]))),m=function(e){var t=e.year,n=e.title,r=e.overview,i=e.genres,a=e.score;return(0,v.jsxs)(g,{children:[(0,v.jsxs)("h2",{children:[n," (",t,")"]}),(0,v.jsxs)("p",{children:["User Score: ",a,"%"]}),(0,v.jsx)("h3",{children:"Overview"}),(0,v.jsx)("p",{children:r}),(0,v.jsx)("h3",{children:"Genres"}),(0,v.jsx)("p",{children:i})]})},j=n(9355),_=f.Z.div(i||(i=(0,x.Z)(["\n  margin-left: 30px;\n"]))),y=f.Z.img(a||(a=(0,x.Z)(["\n  width: 300px;\n  heigth: 450px;\n"]))),w=(0,f.Z)(h.rU)(s||(s=(0,x.Z)(["\n  margin: 15px 0;\n  display: block;\n"]))),Z=f.Z.div(c||(c=(0,x.Z)(["\n  display: flex;\n  gap: 30px;\n"]))),k=new j.V,b=function(){var e,t,n=(0,u.useState)({poster_path:"",title:"",release_date:"",overview:"",vote_average:0,genres:[]}),r=(0,o.Z)(n,2),i=r[0],a=r[1],s=(0,u.useState)(!0),c=(0,o.Z)(s,2),h=c[0],x=c[1],f=(0,l.UO)().movieId,g=null!==(e=null===(t=(0,u.useRef)((0,l.TH)()).current.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/movies";(0,u.useEffect)((function(){x(!0),k.movieId=f,k.fetch("details").then((function(e){return a(e)})).finally((function(){return x(!1)}))}),[f]);var j=i.poster_path,b=i.title,S=i.release_date,U=i.overview,I=i.genres,q=i.vote_average,C=j?"https://image.tmdb.org/t/p/w500"+j:"https://motivatevalmorgan.com/wp-content/uploads/2016/06/default-movie.jpg",F=S.slice(0,4),G=I.map((function(e){return e.name})).join(", "),O=String(q).slice(0,3).replace(".","");return(0,v.jsx)(v.Fragment,{children:(0,v.jsxs)(_,{children:[(0,v.jsx)(w,{to:g,children:"Go back"}),h?(0,v.jsx)(d.g4,{color:"#e75480",wrapperStyle:{justifyContent:"start"}}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)(Z,{children:[(0,v.jsx)(y,{src:C,alt:b}),(0,v.jsx)(m,{year:F,title:b,overview:U,genres:G,score:O})]}),(0,v.jsx)(p,{}),(0,v.jsx)(u.Suspense,{fallback:(0,v.jsx)(d.g4,{color:"#e75480",wrapperStyle:{justifyContent:"start"}}),children:(0,v.jsx)(l.j3,{})})]})]})})}}}]);
//# sourceMappingURL=622.9c0ebde3.chunk.js.map